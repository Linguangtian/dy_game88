<?php
 goto TNd7x; gMIrq: $mediaid = $_GPC["\x69\x6d\147\x69\x64"]; goto pIskj; ju0MB: $url = $path . random(10) . time() . "\x70\x69\143\56\152\160\147"; goto hoLhm; nGFAf: gVhgU: goto sqXHS; Y0M9f: ZELYv: goto ju0MB; Bf0Yf: $r_url = $_W["\x73\x69\164\145\x72\x6f\157\x74"] . str_replace(IA_ROOT . "\57", '', $url); goto Jv8jv; hoLhm: imagejpeg($dst, $url); goto A00he; GG2mT: mkdir($path, 0777); goto Y0M9f; YPvTW: $access_token = $account->fetch_token(); goto zDapB; sqXHS: $path .= date("\131\x6d\x64") . "\57"; goto Jo6Uh; TNd7x: global $_W, $_GPC; goto gMIrq; fk2IL: mkdir($path, 0777); goto nGFAf; A00he: imagedestroy($dst); goto Bf0Yf; pIskj: load()->func("\143\x6f\x6d\x6d\x75\156\x69\143\141\164\151\x6f\156"); goto Bs2Cl; Bs2Cl: $account = $this->getAccount(); goto YPvTW; zDapB: $url = "\x68\x74\164\x70\72\x2f\x2f\x66\x69\154\x65\56\141\160\x69\x2e\x77\145\x69\170\x69\156\56\x71\161\x2e\143\x6f\155\57\143\x67\151\55\x62\x69\x6e\x2f\x6d\145\x64\x69\x61\x2f\147\145\164\x3f\141\x63\143\x65\163\x73\137\x74\157\153\x65\156\75" . $access_token . "\46\x6d\x65\144\x69\141\137\151\x64\x3d{$mediaid}"; goto YeSS7; YeSS7: $dst = imagecreatefromstring(file_get_contents($url)); goto ImhtA; Jo6Uh: if (file_exists($path)) { goto ZELYv; } goto GG2mT; ImhtA: $path = IA_ROOT . "\x2f\141\x64\x64\x6f\x6e\x73\57\x6a\165\156\x73\151\x6f\x6e\x5f\x77\x69\x6e\x61\167\141\x72\x64\x2f\x71\162\x63\157\x64\145\57"; goto As4CI; As4CI: if (file_exists($path)) { goto gVhgU; } goto fk2IL; Jv8jv: die(json_encode(array("\143\x6f\144\x65" => 1, "\x75\x72\154" => $r_url)));