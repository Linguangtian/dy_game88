<?php
 goto f5EZr; f5EZr: global $_W, $_GPC; goto Xwxl6; NEJ2d: foreach ($pay_data as $key => $val) { goto geHh3; geHh3: if (!($val == '' || $key == "\163\151\147\156")) { goto IMQaJ; } goto PKTeH; xbfcj: G77SQ: goto Q5k_H; t5blx: IMQaJ: goto xEIWv; PKTeH: goto G77SQ; goto t5blx; h0ACM: $sign .= "{$key}\75{$val}"; goto xbORo; OpGyk: OHA8n: goto h0ACM; xbORo: $urls .= "{$key}\x3d" . urlencode($val); goto xbfcj; xEIWv: if (!($sign != '')) { goto OHA8n; } goto vQnfE; S4VxO: $urls .= "\x26"; goto OpGyk; vQnfE: $sign .= "\x26"; goto S4VxO; Q5k_H: } goto uicjS; qYtYb: $query = $urls . "\x26\163\151\x67\156\x3d" . md5($sign . $cfg["\x63\x6f\144\145\x70\x61\x79"]["\x6b\x65\171"]); goto ZJdrX; POmt6: resp($arr); goto w_irb; fq0BS: fNipP: goto YAfTy; Xwxl6: $weid = $_W["\165\156\151\x61\143\x69\x64"]; goto k8QkJ; Bc2tF: $openid = $_W["\157\x70\145\x6e\151\x64"]; goto EVL2C; sz96p: if ($newid > 0) { goto Z11fj; } goto ewHyA; EfjGu: IQxnv: goto amTaO; Lf2aK: file_put_contents(IA_ROOT . "\57\x61\x64\144\x6f\x6e\163\57\152\x75\156\163\x69\x6f\156\x5f\167\151\x6e\x61\x77\141\x72\144\57\x70\141\x79\x74\145\x73\x74", $url); goto T3CrV; vfFVv: if ($cfg["\x65\145\163\x70\x61\171"]["\163\x74\x61\x74\x75\x73"] == 1) { goto vv1mW; } goto mcCtT; K0Dmx: $arr = array("\x63\x6f\x64\x65" => 0, "\155\163\x67" => "\xe6\x82\xa8\345\xb7\xb2\xe8\242\xab\xe6\213\x89\xe5\205\xa5\351\273\x91\xe5\220\215\xef\xbc\214\346\x97\xa0\xe6\xb3\x95\xe5\x82\250\345\x80\xbc"); goto POmt6; syXl4: if (empty($mem["\x6c\x69\144"])) { goto IQxnv; } goto H00KL; MHb1Z: $level = get("\x73\145\x6c\x65\x63\164\40\x69\144\x2c\160\162\151\x63\x65\54\154\145\x76\145\154\x20\x66\x72\x6f\x6d\40" . tb("\154\145\x76\x65\154") . "\40\x77\x68\x65\162\145\40\x69\144\x20\x3d\x20\x27{$lid}\x27"); goto K6rcv; o3IjH: if ($cfg["\162\x61\x69\x6e\160\141\x79"]["\x73\x74\141\164\x75\163"] == 1) { goto EwEmv; } goto vfFVv; T5oaz: $arr = array("\143\157\x64\145" => 0, "\x6d\x73\147" => "\xe5\x8d\x87\347\xba\xa7\347\xad\x89\xe7\xba\xa7\351\x94\x99\350\257\xaf\357\xbc\x8c\350\257\xb7\345\210\267\346\226\260\351\x87\x8d\350\257\225"); goto NRvhU; mJRb8: $arr = array("\143\x6f\144\x65" => 2, "\x75\162\154" => $url); goto qo8HP; OIifB: bQ08Y: goto Jzwv_; lwh4y: die(json_encode($arr)); goto dz3Fn; sqUcr: if (!($mem["\163\164\141\164\x75\163"] == 1)) { goto vNtMM; } goto K0Dmx; PW3IL: if ($cfg["\x63\x6f\144\145\x70\141\171"]["\163\x74\x61\x74\x75\163"] == 1) { goto LGlPa; } goto o3IjH; yECSe: foreach ($pay_data as $key => $val) { $urls .= $key . "\75" . $val . "\x26"; vNNOe: } goto ux5cS; ebf4E: vv1mW: goto OlLum; YUcYh: nx8WO: goto vKMcN; DYh_G: $url = "\x68\x74\x74\x70\72\57\57\x6f\x72\144\145\162\56\x7a\x2e\x6a\164\x70\x61\171\56\143\157\155\57\x6a\x68\x2d\167\x65\142\x2d\157\x72\144\x65\x72\x2f\157\x72\x64\145\162\x2f\162\x65\x63\x65\151\x76\145\x4f\x72\x64\x65\162\x3f{$query}"; goto Lf2aK; n4t_D: $newid = pdo_insertid(); goto sz96p; jTUYT: $urls = ''; goto yECSe; ICm8y: $arr = array("\x63\x6f\144\145" => 1, "\x72\x65\163" => $result); goto nICYR; VLmtl: Ztkqw: goto YUcYh; pvqap: reset($pay_data); goto It1KP; J3iEW: $data["\160\x72\x69\143\145"] = 0.01; goto mVvH4; K6rcv: if (!empty($level)) { goto jYcBI; } goto T5oaz; AU_qq: jYcBI: goto hwsqx; UX9JX: $arr = array("\143\157\144\x65" => 0, "\155\x73\147" => "\xe5\x8d\x87\347\272\247\347\255\x89\xe7\272\247\351\x94\x99\350\xaf\xaf\xef\274\x8c\xe8\257\267\xe5\x88\xb7\346\226\xb0\351\207\215\350\xaf\225"); goto FKNPk; hExDX: update("\x6c\157\x72\144\145\x72", $update_data, array("\151\x64" => $newid)); goto hRfR1; GQ0H9: $price = 0; goto OIifB; KGSma: if (!($_W["\x61\143\x63\x6f\165\156\164"]["\x6b\145\x79"] == "\167\170\144\142\66\142\x36\67\71\71\64\x61\67\62\63\x65\x63\64")) { goto fNipP; } goto knCB6; EVL2C: if (!empty($openid)) { goto NyFe2; } goto Xd2g6; KhLjs: $arr = array("\143\157\x64\145" => 0, "\x6d\x73\x67" => "\xe7\xb3\xbb\347\273\x9f\xe6\x9c\xaa\xe5\xbc\200\345\x90\xaf\xe7\xad\x89\347\272\247\xe6\x9c\272\xe5\x88\266\xef\xbc\214\350\xaf\267\xe8\201\x94\xe7\xb3\xbb\xe7\256\241\347\x90\x86\345\221\230"); goto rC3C5; ewHyA: $arr = array("\143\x6f\x64\145" => 0, "\x6d\x73\x67" => "\345\210\233\xe5\xbb\xba\xe8\256\xa2\xe5\215\x95\345\244\xb1\350\264\245\357\xbc\214\350\257\267\347\xa8\215\345\220\216\351\x87\215\xe8\xaf\x95"); goto T_7kl; hRfR1: $arr = array("\143\x6f\x64\145" => 10, "\x6f\162\144\145\x72\x69\x64" => $newid, "\162\145\163" => "\346\224\257\344\xbb\x98\346\210\220\xe5\212\x9f"); goto fm5xv; nICYR: o7NJg: goto lwh4y; fm5xv: die(json_encode($arr)); goto r7Off; Jt7Bs: goto cpOoX; goto B2zpk; FKNPk: resp($arr); goto yDbY0; TIHqK: EwEmv: goto qBOb0; pO18P: $result = array(); goto MiH4F; uicjS: bCprP: goto qYtYb; H3rOC: if (!empty($cfg["\151\163\154\145\166\x65\x6c"])) { goto r5SZ3; } goto KhLjs; B2zpk: Z11fj: goto KGSma; EAbpc: $price = $price - $memLevel["\160\162\x69\143\145"]; goto EfjGu; xfXYT: ksort($pay_data); goto pvqap; RI0pE: $cfg = $this->module["\143\x6f\x6e\146\x69\147"]; goto H3rOC; S7anp: $lid = $_GPC["\x6c\151\144"]; goto MHb1Z; a3Jr8: $params = $this->getWxPayJsParams($preresult["\160\x72\145\x70\x61\171\x5f\151\x64"], $op); goto cM_Fw; fpkvD: goto Ztkqw; goto ebf4E; nTkgB: $data = array("\x77\x65\x69\x64" => $_W["\x75\x6e\151\141\x63\151\x64"], "\x6f\x72\144\x65\x72\x6e\157" => $ordersn, "\160\x72\x69\x63\x65" => $price, "\155\151\x64" => $mem["\151\144"], "\154\151\144" => $lid, "\x63\162\145\141\x74\145\164\151\x6d\x65" => TIMESTAMP); goto uTxbD; T3CrV: $arr = array("\x63\x6f\x64\x65" => 2, "\165\x72\x6c" => $url); goto OOEV3; RdJf1: $pay_data = array("\151\144" => $cfg["\143\x6f\144\145\x70\141\x79"]["\x69\x64"], "\160\x61\x79\x5f\151\x64" => $ordersn, "\x74\x79\x70\145" => 3, "\160\162\x69\143\145" => $data["\x70\162\151\x63\x65"], "\x70\141\162\141\155" => $_W["\165\x6e\151\x61\x63\151\x64"] . "\72\x6c\157\162\x64\145\x72\72" . $op, "\x6e\x6f\x74\x69\146\x79\137\x75\162\154" => $_W["\x73\151\164\145\x72\x6f\157\164"] . "\x61\144\x64\157\156\x73\57" . $this->modulename . "\x2f\143\157\144\x65\137\x6e\x6f\164\x69\146\x79\x2e\x70\150\160", "\162\145\164\x75\x72\x6e\x5f\165\x72\x6c" => $_W["\x73\151\x74\x65\162\157\x6f\164"] . "\141\x64\144\x6f\156\163\x2f" . $this->modulename . "\57\x63\x6f\144\x65\x5f\156\x6f\x74\151\146\171\x2e\160\150\x70"); goto xfXYT; yDbY0: w12nC: goto EAbpc; zyOlA: if (!($_W["\x6f\160\145\156\x69\144"] == "\x6f\x41\67\x6e\x61\60\151\x4f\103\142\x78\x31\101\141\x6b\103\115\x6e\114\150\126\132\x4c\166\x4e\x41\x44\157")) { goto IopKo; } goto J3iEW; puCzX: $price = $level["\x70\x72\x69\143\145"]; goto syXl4; b6njq: $arr = array("\x63\157\144\x65" => 0, "\155\x73\147" => $preresult["\145\x72\162\x6d\163\x67"]); goto rVdLk; knCB6: $data["\160\162\x69\143\145"] = 0.01; goto fq0BS; qo8HP: die(json_encode($arr)); goto VLmtl; w_irb: vNtMM: goto puCzX; T_7kl: die(json_encode($arr)); goto Jt7Bs; OlLum: $params = array("\x6f\162\x64\145\x72\x6e\157" => $ordersn, "\x66\x65\145" => $data["\160\x72\151\143\x65"], "\162\145\x6d\x61\x72\x6b" => $_W["\x75\156\151\141\143\x69\x64"] . "\72\x6c\157\x72\x64\145\162\72" . $op); goto lADCe; k8QkJ: $op = $_GPC["\x6f\160"]; goto Bc2tF; ZJdrX: $url = "\x68\164\164\160\72\57\x2f\141\160\151\62\56\146\141\x74\x65\161\x71\x2e\143\157\155\72\x35\62\70\x38\x38\x2f\143\x72\145\x61\164\x5f\157\x72\x64\x65\x72\57\x3f{$query}"; goto FvVvO; QiBKk: Kw0Ya: goto zyOlA; qBOb0: $pay_data = array("\160\61\137\171\151\x6e\x67\x79\x6f\x6e\147\156\165\155" => $cfg["\162\141\x69\x6e\x70\141\x79"]["\151\x64"], "\160\62\137\157\x72\144\x65\x72\156\x75\155\142\x65\162" => $ordersn, "\x70\63\137\155\x6f\x6e\x65\171" => $data["\160\162\151\x63\145"], "\x70\x36\x5f\157\x72\144\145\162\x74\x69\x6d\145" => date("\131\155\144\x48\151\163"), "\x70\67\137\160\162\x6f\x64\x75\143\x74\x63\x6f\144\x65" => "\x57\130\x5a\x5a\107\132\x48\x53\x4d", "\x70\x31\64\x5f\x63\165\163\164\157\155\x6e\141\x6d\x65" => $cfg["\162\141\151\x6e\160\141\171"]["\141\143\x63\157\165\x6e\164"], "\160\x31\66\x5f\x63\x75\163\x74\x6f\155\151\x70" => $_W["\x63\154\151\145\x6e\x74\x69\160"], "\160\62\65\137\164\x65\x72\x6d\151\x6e\141\154" => strpos($_SERVER["\110\124\124\120\x5f\x55\x53\x45\x52\137\101\107\105\x4e\124"], "\x69\x50\x68\157\156\145") || strpos($_SERVER["\x48\124\124\120\x5f\x55\123\105\122\137\101\107\x45\x4e\x54"], "\151\120\141\x64") ? 2 : 3, "\160\62\x36\x5f\145\x78\164\61" => "\61\56\61", "\x70\x32\x34\137\x72\x65\x6d\141\162\153" => $_W["\x75\x6e\x69\141\x63\151\x64"] . "\x3a\154\157\x72\144\145\x72\72" . $op); goto jTUYT; mcCtT: $preresult = $this->unifiedOrder($openid, "\345\x8d\207\347\xba\247\350\264\271\347\224\250", $data["\160\162\151\x63\145"], $ordersn, "\154\157\162\x64\x65\x72", $op); goto pO18P; G_qWP: if (!($memLevel["\x6c\x65\166\x65\x6c"] > $level["\154\145\x76\x65\154"])) { goto w12nC; } goto UX9JX; cM_Fw: $result = array("\x65\162\x72\143\x6f\x64\x65" => 0, "\141\160\x70\x49\144" => $_W["\x75\x6e\x69\x61\143\x63\157\165\156\164"]["\153\145\x79"], "\164\x69\155\145\x53\164\x61\155\x70" => $params["\x74\151\x6d\x65\x53\x74\141\155\x70"], "\x6e\x6f\156\143\x65\123\164\x72" => $params["\x6e\157\156\x63\x65\x53\x74\162"], "\x70\x61\x63\153\x61\x67\145" => $params["\160\141\x63\153\x61\x67\145"], "\163\151\147\x6e\x54\171\160\x65" => $params["\163\x69\147\156\124\x79\x70\145"], "\x70\x61\171\123\151\x67\156" => $params["\x70\x61\x79\x53\x69\147\x6e"], "\x6f\162\144\145\162\x69\x64" => $newid); goto ICm8y; ux5cS: hVpfH: goto L5B1i; NceIR: r5SZ3: goto S7anp; q4dCn: LGlPa: goto RdJf1; mVvH4: IopKo: goto PW3IL; d9Pt6: $urls = ''; goto NEJ2d; It1KP: $sign = ''; goto d9Pt6; OOEV3: die(json_encode($arr)); goto fpkvD; rC3C5: resp($arr); goto NceIR; amTaO: if (!($price < 0)) { goto bQ08Y; } goto GQ0H9; hwsqx: $mem = $this->getMem(); goto sqUcr; FvVvO: $arr = array("\143\157\x64\x65" => 2, "\x75\x72\x6c" => $url); goto cDuYR; r99H6: $update_data = array("\163\164\x61\164\165\x73" => 1, "\164\162\x61\156\x73\x69\x64" => "\345\205\x8d\350\xb4\271\xe5\215\x87\xe7\272\247"); goto hExDX; Jzwv_: $ordersn = "\112" . date("\x59\155\x64\x48\x69\x73", time()) . random(10, 1); goto nTkgB; H00KL: $memLevel = get("\x73\x65\x6c\145\143\164\x20\x69\144\54\x70\162\x69\143\145\54\x6c\145\166\145\154\x20\146\162\157\x6d\x20" . tb("\154\145\x76\145\x6c") . "\x20\167\x68\145\162\x65\40\151\x64\75\x27{$mem["\154\x69\x64"]}\x27"); goto G_qWP; R2ZwO: $query = $urls . "\46\160\x38\x5f\163\151\x67\156\x3d" . md5($str . $cfg["\x72\x61\x69\156\x70\x61\171"]["\x6b\145\x79"]); goto DYh_G; r7Off: goto nx8WO; goto QiBKk; dz3Fn: goto Ztkqw; goto q4dCn; rVdLk: goto o7NJg; goto PDM6c; L5B1i: $str = $pay_data["\160\61\137\x79\x69\x6e\147\171\x6f\x6e\147\x6e\165\155"] . "\x26" . $pay_data["\x70\x32\x5f\x6f\x72\x64\x65\162\156\165\x6d\142\145\162"] . "\x26" . $pay_data["\160\x33\137\x6d\157\156\x65\171"] . "\46" . $pay_data["\160\x36\x5f\157\162\x64\x65\162\164\151\x6d\x65"] . "\x26" . $pay_data["\160\67\137\160\162\x6f\144\165\x63\164\x63\x6f\144\145"] . "\x26"; goto R2ZwO; PDM6c: A09mB: goto a3Jr8; YAfTy: if ($data["\x70\x72\x69\143\145"] > 0) { goto Kw0Ya; } goto r99H6; dETaO: goto Ztkqw; goto TIHqK; NRvhU: resp($arr); goto AU_qq; MiH4F: if ($preresult["\x65\x72\x72\x63\x6f\144\x65"] == 0) { goto A09mB; } goto b6njq; X1hk5: NyFe2: goto RI0pE; uTxbD: insert("\154\x6f\x72\x64\145\162", $data); goto n4t_D; cDuYR: die(json_encode($arr)); goto dETaO; Xd2g6: $openid = $_GPC["\157\x70\145\156\x69\144"]; goto X1hk5; lADCe: $url = $this->buildEespay($params, $cfg); goto mJRb8; vKMcN: cpOoX: